export const metadata = {
  title: "Renaming Files",
  description:
    "Rename audio files in Audexis using pattern-based templates. Use metadata variables to automatically generate filenames from tags like artist, title, and album.",
  keywords:
    "rename audio files, pattern-based renaming, audio file renamer, batch rename music, metadata filename templates",
};

<h1 className="text-4xl font-bold tracking-tight my-6">{metadata.title}</h1>

Learn how to batch rename audio files using metadata patterns in Audexis.

## Opening the Rename Modal

To rename a file or multiple files: **Right-click** selected files → **Rename**

## How Pattern Renaming Works

Audexis uses **placeholder patterns** to generate new filenames based on metadata.

For example, the pattern:

```
{artist} - {title}.{ext}
```

Would rename a file from `track01.mp3` to `John Doe - My Song.mp3`

## Available Placeholders

Use these placeholders in your patterns:

### Common Fields

- `{title}` — Song title
- `{artist}` — Artist name
- `{album}` — Album name
- `{trackNumber}` — Track number
- `{year}` — Release year
- `{genre}` — Music genre
- `{ext}` — File extension (mp3, m4a, etc.)

### Additional Fields

- `{albumArtist}` — Album artist
- `{composer}` — Composer
- `{conductor}` — Conductor
- `{contentGroup}` — Content grouping
- `{encodedBy}` — Encoder info
- `{beatsPerMinute}` — BPM
- `{language}` — Language code

### Special

- `{path}` — Current full path (usually not used in patterns)

**Note**: Any field visible in your columns can be used as a placeholder. Just use the field name in lowercase within curly braces.

For all available placeholders, see the [Pattern Variables](/docs/reference/pattern-variables).

## Pattern Examples

### Basic Artist - Title

```
{artist} - {title}.{ext}
```

Result: `YoungBoy Never Broke Again - Gravity.mp3`

### Track Number + Title

```
{trackNumber} - {title}.{ext}
```

Result: `06 - Gravity.mp3`

Result: `38 Baby/06 Gravity.mp3`

**Note**: Audexis renames files, not folders. This example would fail if the folder doesn't exist.

### Year + Artist + Album + Track

```
{year} - {artist} - {album} - {trackNumber} - {title}.{ext}
```

Result: `2016 - YoungBoy Never Broke Again - 38 Baby - 06 - Gravity.mp3`

### DJ Format (BPM + Artist)

```
{beatsPerMinute}bpm - {artist} - {title}.{ext}
```

Result: `148bpm - YoungBoy Never Broke Again - Gravity.mp3`

## Using the Rename Modal

### Step 1: Select Files

Choose which files to rename:

- Click individual files
- **⌘+Click** for multiple selections
- **Shift+Click** for ranges
- **⌘+A** for all files

### Step 2: Enter Pattern

1. Open the rename modal (Right-click → Rename using pattern...)
2. Type your pattern in the input field
3. Use placeholder syntax: `{fieldName}`

### Step 3: Preview Results

The preview table shows:

- **Current** — Existing filename
- **New name** — What the file will become

**Yellow highlighting** indicates duplicate names (warning!)

### Step 4: Execute Rename

1. Review the preview carefully
2. Check for duplicates (yellow)
3. Click **Rename** to apply
4. **Cancel** to abort

## Tips

### Avoid Duplicates

Patterns that might create duplicates:

- `{artist}.{ext}` — All songs by same artist get same name
- `{album}.{ext}` — All songs on same album get same name

Always include unique fields:

- `{trackNumber}` — If tracks are numbered
- `{title}` — Usually unique per artist/album

### Use Valid Characters

Avoid these characters in patterns (they'll be replaced with `_`):

- `/ \ : * ? " < > |`

These are invalid in filenames on most systems.

## Character Sanitization

Audexis automatically sanitizes filenames:

- **Invalid characters** → Replaced with `_`
- **Leading/trailing spaces** → Removed
- **Multiple spaces** → Collapsed to single space
- **Leading/trailing dots** → Removed

This ensures compatibility across operating systems.

## Handling Errors

### Some Files Failed to Rename

After renaming, you'll see a result summary:

- **X renamed** — Successful renames
- **Y failed** — Failed renames with error messages

**Common failure causes**:

1. **Duplicate target name** — Two files want the same name
2. **File in use** — File open in another app
3. **Permission denied** — Insufficient file permissions
4. **Invalid characters** — Despite sanitization, some names may fail

**Solution**:

- Note which files failed
- Fix the issue (close apps, adjust pattern)
- Retry just those files

## Undo Renames

Currently, Audexis **doesn't support undo** for renames.

**Best practice**:

1. Preview carefully before applying
2. Test on copies of files
3. Keep backups of important files

A rename history/undo feature is planned for future releases.

## Advanced Patterns

### Conditional Logic (Future)

While not yet supported, planned features include:

- If/else conditions
- Default values for empty fields
- Custom separators

For now, ensure your metadata is complete before renaming.

### Multiple Patterns

You can't apply multiple patterns at once. To apply different patterns to different groups:

1. Select first group
2. Apply first pattern
3. Select second group
4. Apply second pattern

## Keyboard Shortcuts

While in the Rename modal:

- **Enter** — Execute rename (when focused on pattern input)
- **Esc** — Close modal without renaming
- **Tab** — Navigate between input and buttons

## Real-World Examples

### Organize Music Library

```
{albumArtist} - {album} - {trackNumber} - {title}.{ext}
```

### DJ Collection

```
{beatsPerMinute} - {genre} - {artist} - {title}.{ext}
```

### Podcast Episodes

```
{album} - E{trackNumber} - {title}.{ext}
```

### Classical Music

```
{composer} - {title} - {conductor}.{ext}
```

### Compilation Albums

```
{album} - {trackNumber} - {artist} - {title}.{ext}
```

## Troubleshooting

### Pattern Not Working

**Issue**: Files renamed but not as expected

**Check**:

1. Spelling of placeholder names
2. Metadata actually contains values for those fields
3. Preview table shows what will happen

### Special Characters in Metadata

**Issue**: Metadata contains `/` or other invalid filename characters

**Solution**: Audexis automatically sanitizes these to `_`

### Long Filenames

**Issue**: Generated names are too long (>255 characters)

## Related Documentation

- [Editing Tags](/docs/guides/editing-tags) — Fill in metadata before renaming
- [Find and Replace](/docs/guides/find-and-replace) — Bulk update metadata
- [Workspace Management](/docs/guides/workspace) — Organizing files
- [Common Issues](/docs/troubleshooting/common-issues) — Troubleshooting renames
